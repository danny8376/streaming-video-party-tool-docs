<!doctype html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title> Streaming Video Party Tool </title>
  <meta name="description" content="A simple tool to hold video part mainly for streaming.">
  <meta name="author" content="DannyAAM">
  <style>
    @media (prefers-color-scheme: dark) {
      body {
        background: #0d1117;
        color: #c9d1d9;
      }

      a, a:visited {
        color: #58a6ff;
        text-decoration: none;
      }
      a:hover, a:hover:visited {
        text-decoration: underline;
      }
    }
  </style>
</head>

<body>
  <p>This is redirection page for <a href="https://github.com/danny8376/streaming-video-party-tool/">Streaming Video Party Tool</a>.</p>
  <p>這是提供<a href="https://github.com/danny8376/streaming-video-party-tool/">同步視聽小工具</a>轉跳用的網頁。</p>
  <hr>
  <p>Extension is required to work.</p>
  <p>你需要安裝擴充插件才能使用此功能。</p>
  <ul>
  <li><a href="https://addons.mozilla.org/zh-TW/firefox/addon/streaming-video-party-tool/" rel="nofollow">Firefox</a></li>
  <li><a href="https://chrome.google.com/webstore/detail/streaming-video-party-too/ejjcgcillnknldlnjomjockdceikloja" rel="nofollow">Chrome</a></li>
  </ul>

  <script>
    // short uri check & redirection
    if (location.search && !location.hash) {
      location.href = "https://video-party.saru.moe/room#videopartyroom=wss%3A%2F%2Fmain.ws.video-party.saru.moe%2Fws%2Froom%2F" + location.search.slice(1);
    }

    // ext check
    if (!window.streamingVideoPartyToolPlatform_ext_exist) {
      // wait 1.5s for checking ?
      window.noExtTimeout = setTimeout(() => runNoExt(), 1500);
      window.streamingVideoPartyToolPlatform_mark_ext_exist = () => {
        clearTimeout(window.noExtTimeout);
        delete window.noExtTimeout;
      };
      window.streamingVideoPartyToolPlatform_dummy_web_inited = true
    }

    // no ext or room not exist
    function runNoExt() {
      console.log("No EXT installed");
    }
  </script>
</body>
</html>

